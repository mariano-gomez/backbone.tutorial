<html >
<head>
    <title></title>
    <script src="/scripts/jquery_1.10.2.js"></script>
	<script src="/scripts/underscore_1.4.1.js" type="text/javascript"></script>
	<script src="/scripts/backbone_0.9.2.js" type="text/javascript"></script>
</head>
<body>
	<div id="container-movie"></div>
 
    <script type="text/template" id="template-movie">
		<!--	//	Since the type is "text/template" the JavaScript engine will ignore it.	-->
        Title: <%=title%>
    </script>

	<script type="text/javascript">
		/**var Movie = Backbone.Model.extend();

		var MovieView1 = Backbone.View.extend({
			initialize: function () {	console.log("MovieView initialize");	},
			render: function () {
				console.log("MovieView render");
				this.$el.append("Title: " + this.model.get("title"));
				$("#container-movie").html(this.$el.html());
				return this;
			}
		});

		$(function(){
			var movie = new Movie({ title: "Lion King" });
			var movieView1 = new MovieView1({ model: movie });
			movieView1.render();
		})/**/
	</script>
	
	<script type="text/javascript">
        /**var Movie = Backbone.Model.extend();
 
        var MovieView1 = Backbone.View.extend({
			//	In the view we automatically create a template property that creates a compile version of the template.
            template: _.template($("#template-movie").html()),	//	Esto asigna una FUNCION a la propiedad template
            initialize: function () {
                console.log("MovieView initialize");
            },
			//	In the render function, we are passing the model data to the template function and return the html result.
            render: function () {
                var htmlOutput = this.template(this.model.toJSON());	//	Aca se invoca a template, que es una FUNCION
                this.$el.html(htmlOutput);
                return this;
            }
        });
 
        $(function () {
            var movie = new Movie({ title: "Lion King" });
//			Take notice that when we instantiate the movieView1 we are passing in the “el”. The “el” is set to the container that we want to update.
            var movieView1 = new MovieView1({ model: movie, el: $("#container-movie") });
            movieView1.render();
        })/**/
    </script>
	
	<script type="text/javascript">
    var Movie = Backbone.Model.extend();
 
    var MovieView1 = Backbone.View.extend({
        renderCount: 0,
		//	Since “template” is not a property that Backbone merges automaticly, we need to use “options” in the initializer
        initialize: function (options) {
            console.log("MovieView initialize");
            this.template = _.template(options.template.html());
            this.render();
        },
        render: function () {
            this.renderCount += 1; 
            console.log(this.renderCount);
 
            var htmlOutput = this.template(this.model.toJSON());
            this.$el.html(htmlOutput);
			//	By returning this, we are able to chain the results of render.
            return this;
        }
    });
 /*
    $(function () {
        var movie = new Movie({ title: "Lion King" });
        var movieView1 = new MovieView1({ model: movie, el: $("#container-movie"), template: $("#template-movie") });
        movieView1.render();
        movieView1.render();
        movieView1.render();
    });/**/
    </script>
	
	
	<script type="text/javascript">
	$(function () {
		var movie = new Movie({ title: "Lion King" });
		var movieView1 = new MovieView1({
			model: movie, el: $("#container-movie"),
			template: $("#template-movie")
		});
		movieView1.render().$el.append(" - Great Movie");
	})
    </script>
</body>
</html>